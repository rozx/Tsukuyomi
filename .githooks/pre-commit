#!/usr/bin/env bash
# Pre-commit hook: Automatically bump build version on every commit
# This hook runs the bump-version.ts script with the 'build' option

echo "ğŸ“¦ Bumping build version..."
bun scripts/bump-version.ts build

# Check if the version bump was successful
if [ $? -ne 0 ]; then
    echo "âŒ Failed to bump build version. Aborting commit."
    exit 1
fi

# Stage the updated files (package.json and src/constants/version.ts)
git add package.json src/constants/version.ts

echo "âœ… Build version bumped successfully"
exit 0
