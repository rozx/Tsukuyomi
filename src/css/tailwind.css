@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base layer for the Tsukuyomi theme */
@layer base {
  html,
  body,
  #q-app {
    height: 100%;
    @apply bg-night-950 text-moon-50;
    /* 增强的背景渐变 - 多层月夜效果，增强对比度 */
    /* Highlight（薄藍）, Accent（銀月）, Secondary（影墨）gradient */
    background-image:
      /* 顶部左侧 - 明亮的月光效果（Highlight 薄藍）- 增强对比度 */
      radial-gradient(circle at 15% 15%, rgba(109, 136, 168, 0.35), transparent 45%),
      /* 顶部右侧 - 明亮的月光效果（Accent 銀月）- 增强对比度 */
      radial-gradient(circle at 85% 10%, rgba(174, 183, 198, 0.28), transparent 50%),
      /* 中间左侧 - 中等强度的月光 */
      radial-gradient(circle at 25% 50%, rgba(109, 136, 168, 0.15), transparent 55%),
      /* 中间右侧 - 中等强度的月光 */
      radial-gradient(circle at 75% 50%, rgba(174, 183, 198, 0.18), transparent 60%),
      /* 底部左侧 - 微妙的月光反射 */
      radial-gradient(circle at 10% 85%, rgba(109, 136, 168, 0.12), transparent 65%),
      /* 底部右侧 - 微妙的月光反射 */
      radial-gradient(circle at 90% 90%, rgba(174, 183, 198, 0.15), transparent 70%),
      /* 中心 - 柔和的月光扩散 */
      radial-gradient(circle at 50% 50%, rgba(233, 237, 245, 0.05), transparent 75%),
      /* 基础渐变 - Secondary（影墨）- 增强明暗对比 */
      linear-gradient(135deg, #0A0C0F 0%, #0F1114 20%, #1C1F26 50%, #242730 80%, #2C2F3A 100%);
    background-attachment: fixed;
  }
}

/* 全局样式：使所有 DataView 的分页器固定在底部 */
@layer components {
  .p-dataview {
    display: flex;
    flex-direction: column;
    height: 100%;
    min-height: 0;
    background: transparent !important;
  }

  .p-dataview-content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    min-height: 0;
    background: transparent !important;
  }

  .p-paginator {
    flex-shrink: 0;
    margin-top: auto;
  }

  /* 确保在 flex 容器中的 DataView 正常工作 */
  .flex.flex-col .p-dataview {
    flex: 1;
    min-height: 0;
  }

  /* 主题标签样式 */
  .site-badge,
  .novel-tag {
    padding: 0.125rem 0.5rem;
    font-size: 0.75rem;
    background: var(--primary-opacity-10);
    color: var(--primary-opacity-80);
    border: 1px solid var(--primary-opacity-30);
    border-radius: 4px;
    font-weight: 500;
  }

  .novel-tag {
    padding: 0.25rem 0.5rem;
  }

  /* 主题数字样式 */
  .novel-word-count {
    color: var(--primary-opacity-80);
    font-weight: 500;
  }

  /* 搜索输入组样式 - 确保搜索框可以收缩，所有按钮保持在同一行 */
  .search-input-group {
    min-width: 0;
    flex: 1 1 auto;
    max-width: 400px;
  }

  .search-input-group :deep(.p-inputtext) {
    min-width: 0;
  }

  /* 输入操作按钮组样式 - 用于清除/复制按钮 */
  .input-action-addon {
    padding: 0 !important;
    display: flex !important;
    align-items: stretch !important;
    width: auto;
  }

  .input-action-addon .input-action-button {
    width: 100% !important;
    height: 100% !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0.5rem !important;
    min-width: 2.5rem;
    margin: 0 !important;
    border-radius: 0 !important;
  }
}
