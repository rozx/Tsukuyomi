# 🧠 记忆管理

记忆管理功能帮助您记录书籍的关键信息、剧情要点和重要设定,为 AI 翻译提供更丰富的上下文,确保翻译的连贯性和准确性。

## 💭 什么是记忆

记忆是关于书籍的重要信息片段,包括:

**内容类型**:

- **剧情要点**: 重要的剧情发展和事件
- **世界观设定**: 世界的规则、历史、文化
- **关键信息**: 对理解故事重要的细节
- **伏笔和线索**: 需要记住的伏笔和线索
- **翻译注意事项**: 翻译时需要特别注意的点

## 🎯 访问记忆管理面板

**操作步骤**:

1. 在书籍详情页的左侧边栏
2. 找到"设置菜单"区域
3. 点击"Memory"按钮
4. 右侧会显示记忆管理面板

**面板布局**:

- **顶部工具栏**: 添加记忆、搜索、筛选
- **记忆列表**: 显示所有记忆的卡片
- **记忆详情**: 点击记忆查看和编辑详细内容

## ➕ 添加记忆

### 手动添加

**操作步骤**:

1. 在记忆管理面板
2. 点击"添加记忆"按钮(➕ 图标)
3. 在弹出的对话框中填写:
   - **标题**: 记忆的简短标题(必填)
   - **内容**: 记忆的详细内容(必填)
   - **类型**: 选择记忆类型(可选)
   - **重要性**: 选择重要性级别(可选)
   - **相关章节**: 关联的章节编号(可选)
   - **标签**: 添加标签便于分类(可选)
4. 点击"保存"按钮

**填写建议**:

- **标题简洁**: 用一句话概括记忆内容
- **内容详细**: 提供足够的细节帮助 AI 理解
- **类型明确**: 选择合适的记忆类型
- **标签规范**: 使用统一的标签命名规则

### 从章节内容添加

**快速添加流程**:

1. 在阅读章节时发现重要信息
2. 选中相关文本
3. 右键菜单选择"添加为记忆"
4. 系统自动填充内容
5. 添加标题和其他信息
6. 保存即可

### 批量导入

**导入方式**:

1. 准备记忆文件(JSON 格式)
2. 在记忆面板点击"导入"按钮
3. 选择文件
4. 系统会自动解析并导入记忆

**JSON 格式示例**:

```json
[
  {
    "title": "魔法系统基础",
    "content": "本世界的魔法分为五大元素:火、水、风、土、雷。每个魔法师只能掌握其中一种元素。",
    "type": "worldbuilding",
    "importance": "high",
    "chapters": ["1", "3", "5"],
    "tags": ["魔法", "世界观"]
  },
  {
    "title": "主角的秘密身份",
    "content": "主角实际上是失踪多年的王子,这个秘密在第15章揭露。",
    "type": "plot",
    "importance": "critical",
    "chapters": ["15"],
    "tags": ["主角", "身份", "伏笔"]
  }
]
```

## ✏️ 编辑记忆

### 修改记忆内容

**操作步骤**:

1. 在记忆列表中找到要编辑的记忆
2. 点击记忆卡片
3. 在弹出的对话框中修改信息
4. 点击"保存"按钮

**可修改内容**:

- 所有字段都可以修改
- 随时补充和完善记忆

### 更新记忆

**随剧情更新**:

- 新信息揭露时更新内容
- 伏笔实现后添加注释
- 设定扩展时补充细节

**版本管理建议**:

- 在内容中注明更新时间
- 保留原始信息,添加更新说明
- 重大修改时导出备份

## 🗑️ 删除记忆

**操作步骤**:

1. 在记忆列表中找到要删除的记忆
2. 点击记忆卡片旁的"删除"按钮(🗑️ 图标)
3. 在确认对话框中确认删除

**删除影响**:

- 删除后不可恢复
- AI 翻译时不再参考该记忆
- 建议删除前导出备份

## 🏷️ 记忆类型

### 剧情 (Plot)

故事的关键剧情发展和事件。

**内容示例**:

- 重要事件的发生
- 剧情转折点
- 角色的重大决定
- 冲突和解决

**用途**:

- 帮助 AI 理解故事走向
- 保持翻译的连贯性
- 正确处理剧情相关的细节

### 世界观 (Worldbuilding)

世界的规则、历史、文化等设定。

**内容示例**:

- 魔法系统的规则
- 社会结构和政治体系
- 历史事件和传说
- 地理和气候

**用途**:

- 统一世界观相关的翻译
- 正确理解设定相关内容
- 保持设定的一致性

### 角色发展 (Character Development)

角色的成长和变化。

**内容示例**:

- 角色的重要经历
- 性格的转变
- 关系的变化
- 能力的成长

**用途**:

- 理解角色的行为动机
- 翻译符合角色当前状态的内容
- 把握角色成长的节奏

### 伏笔和线索 (Foreshadowing)

需要记住的伏笔和线索。

**内容示例**:

- 预示未来事件的细节
- 谜团和疑问
- 需要回应的线索
- 隐藏的信息

**用途**:

- 避免错过重要线索
- 正确翻译双关和暗示
- 保持前后呼应

### 翻译注意事项 (Translation Notes)

翻译时需要特别注意的点。

**内容示例**:

- 特殊用语的翻译规范
- 双关语的处理方式
- 文化差异的注意点
- 风格和语气的要求

**用途**:

- 指导 AI 翻译特殊内容
- 统一翻译风格
- 避免翻译错误

### 其他 (Other)

不属于以上类型的记忆。

**包括**:

- 作者的写作习惯
- 读者反馈和讨论
- 未分类的重要信息

## ⭐ 记忆的重要性级别

### 关键 (Critical)

极其重要的核心信息。

**特点**:

- 对理解故事至关重要
- 影响整体翻译质量
- AI 翻译时优先参考

**示例**:

- 核心世界观设定
- 主线剧情要点
- 关键角色信息

### 高 (High)

很重要的信息。

**特点**:

- 对理解特定部分很重要
- 影响相关章节的翻译
- AI 翻译时重点参考

**示例**:

- 次要世界观设定
- 支线剧情
- 重要配角信息

### 中 (Medium)

一般重要的信息。

**特点**:

- 有助于更好理解
- 可以提升翻译质量
- AI 翻译时适度参考

**示例**:

- 背景设定细节
- 次要事件
- 环境描述

### 低 (Low)

补充性的信息。

**特点**:

- 锦上添花的细节
- 对翻译影响较小
- AI 翻译时酌情参考

**示例**:

- 无关紧要的细节
- 纯粹的背景信息
- 一次性出现的元素

## 📂 记忆的组织

### 使用标签

**添加标签**:

- 在创建或编辑记忆时添加标签
- 多个标签用逗号分隔
- 标签可以是任意文本

**标签建议**:

- **角色名**: 与特定角色相关
- **地点名**: 与特定地点相关
- **主题词**: 如"魔法"、"政治"、"爱情"
- **章节范围**: 如"第1-10章"、"第一卷"

**标签用途**:

- 快速筛选相关记忆
- 组织和分类信息
- 建立记忆之间的关联

### 关联章节

**设置关联**:

- 在记忆中指定相关的章节编号
- 可以关联多个章节
- 使用范围表示(如"1-5"表示第1到第5章)

**用途**:

- AI 翻译特定章节时优先使用相关记忆
- 快速找到章节相关的背景信息
- 建立记忆与内容的对应关系

### 记忆的层次结构

**建议组织方式**:

1. **全局记忆**: 适用于整本书的核心设定
2. **卷级记忆**: 适用于特定卷的剧情和设定
3. **章节级记忆**: 适用于特定章节的细节

**分层的好处**:

- 避免记忆内容过于混乱
- 便于管理和查找
- 优化 AI 的上下文使用

## 🔍 记忆搜索和筛选

### 快速搜索

**操作步骤**:

1. 在记忆面板顶部找到搜索框
2. 输入搜索关键词
3. 列表会实时过滤显示匹配的记忆

**搜索范围**:

- 标题
- 内容
- 标签

### 按类型筛选

**操作步骤**:

1. 使用类型筛选器
2. 选择记忆类型
3. 查看特定类型的记忆

### 按重要性筛选

**操作步骤**:

1. 使用重要性筛选器
2. 选择重要性级别
3. 查看特定级别的记忆

### 按标签筛选

**操作步骤**:

1. 使用标签筛选器
2. 选择或输入标签
3. 查看带有该标签的记忆

## 🎨 记忆在翻译中的应用

### AI 自动应用

**翻译时**:

- AI 会根据章节内容自动选择相关记忆
- 优先使用重要性高的记忆
- 考虑关联章节的匹配度

**应用策略**:

1. 关键级记忆总是包含
2. 关联当前章节的记忆优先
3. 根据内容主题选择相关记忆
4. 控制总的记忆长度避免超出 Token 限制

### 上下文丰富

**记忆的作用**:

- 提供背景信息
- 帮助理解特定术语和概念
- 保持剧情的连贯性
- 指导翻译风格和用词

### 智能筛选

**AI 如何选择记忆**:

- 分析章节内容
- 识别关键词和主题
- 匹配相关的记忆
- 按重要性排序

## 📤 导出和导入

### 导出记忆

**操作步骤**:

1. 在记忆面板点击"导出"按钮
2. 选择导出格式 (JSON)
3. 选择保存位置

**用途**:

- 备份记忆库
- 在其他项目中使用
- 与他人共享记忆

### 导入记忆

**操作步骤**:

1. 在记忆面板点击"导入"按钮
2. 选择记忆文件
3. 选择导入模式:
   - **合并**: 保留现有记忆,添加新记忆
   - **替换**: 清空现有记忆,导入新记忆
4. 确认导入

## 💡 记忆管理最佳实践

### 建立记忆库的时机

**推荐流程**:

1. **阅读第一章后**: 记录基本世界观设定
2. **每完成一卷**: 总结重要剧情和设定
3. **翻译前**: 完善关键记忆
4. **翻译中**: 遇到重要信息及时记录

### 记忆的粒度

**避免过细**:

- 不要记录每个细节
- 专注于真正重要的信息
- 一条记忆应该是一个完整的概念

**避免过粗**:

- 不要把太多信息塞在一条记忆中
- 不同主题应该分开记录
- 便于后续查找和使用

**推荐粒度**:

- 一条记忆 = 一个设定/事件/概念
- 长度控制在 200-500 字
- 包含必要的细节,去除无关信息

### 记忆的更新

**定期审核**:

- 每完成一卷审核一次
- 删除过时或无用的记忆
- 补充新的重要信息
- 合并重复的记忆

**保持准确**:

- 及时更新过期信息
- 修正错误的理解
- 补充遗漏的细节

### 记忆与其他功能的配合

**与术语库配合**:

- 术语库记录名词的翻译
- 记忆库解释名词的含义和背景

**与角色设定配合**:

- 角色设定记录人物的基本信息
- 记忆库记录角色的关键经历和发展

**分工建议**:

- 基本信息 → 术语库、角色设定
- 背景故事 → 记忆库
- 翻译规范 → 术语库、记忆库

## ❓ 常见问题

### 记忆太多会影响性能吗?

- 系统会智能筛选相关记忆
- 控制单次传递给 AI 的记忆数量
- 建议保持在 50-100 条记忆
- 定期清理无用记忆

### 如何组织大量记忆?

1. 使用标签进行分类
2. 设置清晰的重要性级别
3. 关联相关章节
4. 使用描述性的标题
5. 定期整理和归档

### 记忆和章节摘要有什么区别?

- **章节摘要**: 自动生成,概括单个章节内容
- **记忆库**: 手动创建,记录跨章节的重要信息

建议:

- 章节摘要用于提供即时上下文
- 记忆库用于记录长期重要信息

### 可以共享记忆库吗?

可以,通过导出和导入功能:

1. 导出记忆库到 JSON 文件
2. 分享文件给他人
3. 他人导入到自己的项目中

注意:

- 记忆可能包含剧透
- 检查记忆的准确性
- 根据需要调整和补充

### 如何决定什么信息值得记录?

询问自己以下问题:

1. 这个信息在后续章节会被引用吗?
2. 理解这个信息对翻译有帮助吗?
3. 这是一个容易忘记但重要的细节吗?
4. AI 可能会误解或翻译错误吗?

如果任何一个问题的答案是"是",就值得记录。
