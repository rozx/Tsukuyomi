# 👥 角色设定管理

角色设定功能帮助您管理书籍中的人物信息,为 AI 翻译提供更准确的角色名称和性格理解,确保角色相关内容的翻译一致性和准确性。

## 🎭 什么是角色设定

角色设定是书籍中人物的详细信息记录,包括:

**基本信息**:

- **角色名称**: 原文和译文名称
- **角色类型**: 主角、配角、反派等
- **性别**: 男性、女性、其他
- **年龄**: 角色的年龄或年龄段

**详细信息**:

- **外貌描述**: 角色的外貌特征
- **性格特点**: 角色的性格和行为特征
- **背景故事**: 角色的经历和背景
- **人际关系**: 与其他角色的关系
- **特殊能力**: 角色的技能或特殊能力

## 🎯 访问角色设定面板

**操作步骤**:

1. 在书籍详情页的左侧边栏
2. 找到"设置菜单"区域
3. 点击"角色设定"按钮
4. 右侧会显示角色设定管理面板

**面板布局**:

- **顶部工具栏**: 添加角色、搜索、筛选
- **角色列表**: 显示所有角色的卡片
- **角色详情**: 点击角色查看和编辑详细信息

## ➕ 添加角色

### 手动添加

**操作步骤**:

1. 在角色设定面板
2. 点击"添加角色"按钮(➕ 图标)
3. 在弹出的对话框中填写角色信息:

**基本信息** (必填):

- **原文名称**: 角色在原文中的名字
- **译文名称**: 角色的中文译名
- **角色类型**: 选择角色类型(主角/重要配角/次要配角/反派/其他)

**可选信息**:

- **性别**: 选择性别
- **年龄**: 填写年龄或年龄段
- **外貌**: 描述角色的外貌特征
- **性格**: 描述角色的性格特点
- **背景**: 角色的背景故事
- **关系**: 与其他角色的关系
- **能力**: 角色的特殊能力或技能
- **备注**: 其他补充信息

4. 点击"保存"按钮

**填写建议**:

- **名称准确**: 原文名称必须与原文完全一致
- **详细描述**: 尽可能填写详细的信息,帮助 AI 理解角色
- **保持更新**: 随着剧情发展更新角色信息
- **避免剧透**: 如果担心剧透,可以分阶段添加信息

### 快速添加

**从章节内容添加**:

1. 在阅读章节时发现新角色
2. 选中角色名称
3. 右键菜单选择"添加为角色"
4. 系统自动填充原文名称
5. 填写译文和其他信息
6. 保存即可

### 批量导入

**导入方式**:

1. 准备角色文件(JSON 格式)
2. 在角色面板点击"导入"按钮
3. 选择文件
4. 系统会自动解析并导入角色信息

**JSON 格式示例**:

```json
[
  {
    "name": "Harry Potter",
    "translation": "哈利·波特",
    "type": "protagonist",
    "gender": "male",
    "age": "17",
    "appearance": "黑发绿眼,额头有闪电形伤疤",
    "personality": "勇敢、善良、有时冲动",
    "background": "被伏地魔杀害父母的孤儿,在姨妈家长大",
    "relationships": "罗恩和赫敏的好友",
    "abilities": "擅长防御魔法,能说蛇佬腔",
    "notes": "主角,格兰芬多学院"
  }
]
```

## ✏️ 编辑角色

### 修改角色信息

**操作步骤**:

1. 在角色列表中找到要编辑的角色
2. 点击角色卡片
3. 在弹出的对话框中修改信息
4. 点击"保存"按钮

**可修改内容**:

- 所有基本信息和详细信息
- 可以随时补充和完善

### 更新角色信息

**随剧情更新**:

- 角色成长:更新年龄、能力
- 关系变化:更新人际关系
- 外貌变化:更新外貌描述
- 新信息揭示:补充背景故事

**版本管理建议**:

- 在备注中记录更新时间
- 重大变化时导出备份
- 保留关键剧情节点的角色状态

## 🗑️ 删除角色

**操作步骤**:

1. 在角色列表中找到要删除的角色
2. 点击角色卡片旁的"删除"按钮(🗑️ 图标)
3. 在确认对话框中确认删除

**删除影响**:

- 删除后不可恢复
- AI 翻译时不再参考该角色信息
- 已翻译的内容不会自动更改

**删除建议**:

- 只删除确实不再需要的角色
- 次要出场角色建议保留
- 删除前先导出备份

## 🏷️ 角色类型

### 主角 (Protagonist)

故事的主要人物,核心角色。

**特点**:

- 戏份最多
- 性格发展完整
- 推动剧情发展

**填写建议**:

- 详细填写所有信息
- 定期更新角色成长
- 重点描述性格特点

### 重要配角 (Major Supporting)

经常出现的重要角色。

**特点**:

- 有较多戏份
- 与主角关系密切
- 有独立的性格和目标

**填写建议**:

- 填写基本信息和性格
- 描述与主角的关系
- 可以简化背景故事

### 次要配角 (Minor Supporting)

偶尔出现的角色。

**特点**:

- 戏份较少
- 辅助剧情发展
- 可能只在特定章节出现

**填写建议**:

- 至少填写名称和基本信息
- 可以省略详细描述
- 必要时补充信息

### 反派 (Antagonist)

故事的对立角色。

**特点**:

- 与主角对立
- 阻碍主角目标
- 可能有复杂动机

**填写建议**:

- 描述性格和动机
- 说明与主角的对立关系
- 可以描述特殊能力

### 其他 (Other)

不属于以上类型的角色。

**包括**:

- 路人角色
- 一次性出场角色
- 背景角色
- 神秘角色(类型未确定)

## 📝 角色信息字段

### 原文名称

角色在原文中的名字。

**要求**:

- 必须与原文完全一致
- 包括姓和名
- 可以包括称谓(如 Mr., Dr.)

**示例**:

- Harry Potter
- Hermione Granger
- Professor Dumbledore

### 译文名称

角色的中文译名。

**要求**:

- 规范的中文翻译
- 统一译名格式
- 考虑官方译名

**示例**:

- 哈利·波特
- 赫敏·格兰杰
- 邓布利多教授

**译名建议**:

- 音译为主,意译为辅
- 保留原名的发音特点
- 统一使用"·"分隔姓名
- 可以保留英文称谓

### 性别

角色的性别。

**选项**:

- 男性 (Male)
- 女性 (Female)
- 其他 (Other)
- 未知 (Unknown)

**用途**:

- 帮助 AI 使用正确的代词
- 理解角色关系
- 准确翻译性别相关内容

### 年龄

角色的年龄或年龄段。

**填写方式**:

- 具体年龄: "17"
- 年龄段: "青少年"、"中年"
- 大致范围: "20-30岁"

**用途**:

- 理解角色的成熟度
- 判断角色的言行举止
- 翻译符合年龄的语言风格

### 外貌描述

角色的外貌特征。

**建议包括**:

- 身高体型
- 发色眼色
- 特殊标记(如伤疤、纹身)
- 常见着装

**示例**:

```
黑色乱发,绿色眼睛,额头有闪电形伤疤。
身材瘦弱,戴圆框眼镜。
```

### 性格特点

角色的性格和行为特征。

**建议描述**:

- 主要性格特质
- 行为模式
- 说话风格
- 价值观

**示例**:

```
勇敢、正义、忠诚,但有时冲动和倔强。
在面对不公时会挺身而出,不畏强权。
对朋友极其忠诚,有时会为保护朋友而冒险。
```

### 背景故事

角色的经历和背景。

**建议包括**:

- 出身和家庭
- 重要经历
- 关键事件
- 当前处境

**示例**:

```
婴儿时父母被伏地魔杀害,在姨妈家长大。
11岁时得知自己是巫师,进入霍格沃茨学习。
多次与伏地魔对抗,被称为"救世主"。
```

### 人际关系

与其他角色的关系。

**建议描述**:

- 亲密关系(家人、朋友、恋人)
- 对立关系(敌人、竞争者)
- 复杂关系(亦敌亦友)

**示例**:

```
最好的朋友:罗恩·韦斯莱、赫敏·格兰杰
导师:邓布利多教授
宿敌:伏地魔、德拉科·马尔福
暗恋对象(后期):金妮·韦斯莱
```

### 特殊能力

角色的技能或特殊能力。

**建议包括**:

- 魔法或超能力
- 特殊技能
- 天赋
- 弱点

**示例**:

```
擅长防御魔法,尤其是守护神咒。
能够说蛇佬腔(蛇语)。
在魁地奇比赛中是优秀的找球手。
弱点:有时过于情绪化,容易被激怒。
```

## 🔍 角色搜索和筛选

### 快速搜索

**操作步骤**:

1. 在角色面板顶部找到搜索框
2. 输入搜索关键词
3. 列表会实时过滤显示匹配的角色

**搜索范围**:

- 原文名称
- 译文名称
- 性格描述
- 背景故事
- 备注

### 按类型筛选

**操作步骤**:

1. 在搜索框旁找到类型筛选器
2. 选择要查看的角色类型
3. 列表只显示该类型的角色

**用途**:

- 快速查看主要角色
- 检查配角信息完整性
- 管理特定类型的角色

### 按性别筛选

**操作步骤**:

1. 使用性别筛选器
2. 选择性别选项
3. 查看特定性别的角色

## 🎨 角色在翻译中的应用

### AI 自动识别

**翻译时**:

- AI 会自动识别原文中的角色名
- 使用角色设定中的译文名称
- 理解角色的性格和背景
- 翻译符合角色特点的对话和描述

### 角色信息利用

**AI 如何使用角色信息**:

- **名称翻译**: 统一使用设定的译名
- **代词选择**: 根据性别使用正确的代词
- **对话风格**: 根据性格特点调整语气
- **背景理解**: 更准确地理解角色行为

### 角色高亮显示

**在章节内容中**:

- 角色名会自动高亮显示
- 鼠标悬停显示角色详细信息
- 可以快速查看角色设定

**高亮样式**:

- 不同类型的角色使用不同颜色
- 区分主角和配角
- 方便识别角色出场

### 角色使用统计

**查看统计**:

- 在章节工具栏可以看到"出现的角色数量"
- 点击可以查看当前章节出现的角色列表
- 可以看到每个角色的出现频率

**用途**:

- 了解章节的角色分布
- 检查是否遗漏重要角色
- 分析章节的内容重点

## 📤 导出和导入

### 导出角色设定

**操作步骤**:

1. 在角色面板点击"导出"按钮
2. 选择导出格式 (JSON)
3. 选择保存位置

**用途**:

- 备份角色设定
- 在其他项目中使用
- 与他人共享角色信息

### 导入角色设定

**操作步骤**:

1. 在角色面板点击"导入"按钮
2. 选择角色文件
3. 选择导入模式:
   - **合并**: 保留现有角色,添加新角色
   - **替换**: 清空现有角色,导入新角色
4. 确认导入

## 💡 角色管理最佳实践

### 建立角色设定的时机

**推荐流程**:

1. **开始阅读时**: 边读边记录主要角色
2. **翻译前完善**: 完善所有已知角色的信息
3. **翻译中补充**: 遇到新角色及时添加
4. **定期更新**: 随剧情发展更新角色信息

### 角色信息的完整度

**主角级别**:

- 填写所有字段
- 详细描述性格和背景
- 定期更新成长变化

**配角级别**:

- 至少填写名称、性别、基本性格
- 描述与主角的关系
- 必要时补充详细信息

**次要角色**:

- 填写名称和基本信息
- 可以省略详细描述
- 有重要作用时再补充

### 角色关系网络

**建立关系图**:

1. 在每个角色的"关系"字段描述其他角色
2. 形成完整的人物关系网
3. 帮助 AI 理解角色互动

**关系描述建议**:

- 明确关系类型(家人/朋友/敌人)
- 描述关系的性质和强度
- 包含关系的发展变化

### 避免常见错误

- ❌ 只填写名称,不填写其他信息
- ❌ 角色信息过于简单,AI 无法有效利用
- ❌ 遗漏重要配角
- ❌ 角色信息不统一(如称呼不一致)
- ✓ 尽可能详细地描述角色
- ✓ 定期审核和更新角色信息
- ✓ 保持角色信息的一致性
- ✓ 建立完整的角色关系网络

## ❓ 常见问题

### 角色设定和术语库有什么区别?

- **角色设定**: 专门管理人物信息,包含详细的性格、背景等
- **术语库**: 管理所有专有名词,包括人名、地名、技能等

建议:

- 重要角色同时添加到角色设定和术语库
- 角色设定提供详细信息供 AI 理解
- 术语库确保名称翻译的一致性

### 为什么 AI 没有使用角色设定的信息?

1. 检查角色名称是否准确匹配原文
2. 确认角色信息已保存
3. 验证 AI 模型是否支持角色设定
4. 尝试重新翻译相关段落

### 如何处理角色的称呼变化?

例如一个角色有多个称呼(名字、昵称、称号):

**方法 1** - 使用备注:
在角色的备注中列出所有称呼和对应译名

**方法 2** - 分别添加到术语库:
将每个称呼作为单独的术语添加

**方法 3** - 在关系中说明:
在角色的关系字段中说明不同人如何称呼该角色

### 角色设定会占用很多 Token 吗?

- AI 翻译时会智能选择相关的角色信息
- 只有出现的角色才会被包含在上下文中
- 建议控制单个角色的信息在 500 字以内
- 可以在高级设置中调整角色信息的使用策略

### 可以为同一部作品的续集重用角色设定吗?

可以:

1. 从前作导出角色设定
2. 在续集中导入(选择"合并"模式)
3. 更新角色的年龄和新信息
4. 添加续集中的新角色

这样可以保持角色翻译的一致性。
