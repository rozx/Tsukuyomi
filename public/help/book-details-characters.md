# 角色设定管理

角色设定功能帮助您管理书籍中的人物信息，为 AI 翻译提供更准确的角色名称和性格理解，确保角色相关内容的翻译一致性和准确性。

## 👤 什么是角色设定

角色设定是书籍中人物的详细信息记录，包括：

**基本信息**：

- 📝 **角色名称**: 原文名称（必填）
- 🔄 **翻译**: 角色名称的中文译名
- ⚤ **性别**: 男性、女性、其他、未知

**详细信息**：

- 📄 **描述**: 角色的性格特点、外貌特征等
- 💬 **说话口吻**: 角色的语言风格（如傲娇、古风、口癖等）
- 🏷️ **别名**: 角色的其他称呼及其翻译

## 🚪 访问角色设定面板

**操作步骤**：

1. 📑 在书籍详情页的左侧边栏
2. ⚙️ 找到"设置菜单"区域
3. 🖱️ 点击"角色设定"按钮
4. 📋 右侧会显示角色设定管理面板

**面板布局**：

- 🛠️ **顶部工具栏**: 添加角色、导入/导出、搜索

- 👥 **角色列表**: 显示所有角色的卡片
- 📄 **角色详情**: 点击角色查看和编辑详细信息

## 添加角色

### 手动添加

**操作步骤**：

1. 在角色设定面板
2. 点击"添加角色"按钮
3. 在弹出的对话框中填写角色信息：

**基本信息**（必填）：

- **角色名称**: 角色在原文中的名字

**可选信息**：

- **性别**: 选择性别（未知/男性/女性/其他）
- **翻译**: 角色名称的中文译名
- **描述**: 角色的性格特点、背景等
- **说话口吻**: 角色的语言风格特点
- **别名**: 角色的其他称呼

4. 点击"保存"按钮

**填写建议**：

- **名称准确**: 原文名称必须与原文完全一致
- **翻译留空**: 如果不确定翻译，可以留空让 AI 在翻译时自动填充
- **描述详细**: 尽可能填写详细的信息，帮助 AI 理解角色
- **说话口吻**: 填写角色的语言特点，如"傲娇"、"古风"、"口癖(desu/nya)"等

### 使用翻译功能

在角色编辑对话框中：

- 角色名称输入框右侧有翻译按钮
- 点击可以自动翻译名称
- 翻译结果会填入"翻译"字段

## 编辑角色

### 修改角色信息

**操作步骤**：

1. 在角色列表中找到要编辑的角色
2. 点击角色卡片
3. 在弹出的对话框中修改信息
4. 点击"保存"按钮

**可修改内容**：

- 所有基本信息和详细信息
- 可以随时补充和完善

### 管理别名

角色可以有多个别名（如昵称、称号等）：

**添加别名**：

1. 在编辑对话框中点击"添加别名"按钮
2. 输入别名名称（原文）
3. 输入别名翻译（可选，留空让 AI 自动填充）

**删除别名**：

- 点击别名旁边的删除按钮

## 删除角色

**操作步骤**：

1. 在角色列表中找到要删除的角色
2. 点击角色卡片旁的"删除"按钮
3. 在确认对话框中确认删除

**删除影响**：

- 删除后不可恢复
- AI 翻译时不再参考该角色信息
- 已翻译的内容不会自动更改

## 导入与导出

### 导出角色

- 点击工具栏的"导出"按钮
- 将当前角色设定导出为 JSON 文件
- 用于备份或迁移

### 导入角色

- 点击工具栏的"导入"按钮
- 选择 JSON 格式的角色文件
- 系统会自动合并新旧角色

## 角色信息字段详解

### 角色名称

角色在原文中的名字。

**要求**：

- 必须与原文完全一致
- 这是唯一的必填字段

**示例**：

- Harry Potter
- 田中太郎
- アリス

### 翻译

角色的中文译名。

**特点**：

- 可以留空，AI 翻译时会自动添加
- 填写后会在翻译时使用该译名

**示例**：

- 哈利·波特
- 田中太郎
- 爱丽丝

### 性别

角色的性别。

**选项**：

- 未知（默认）
- 男性 (Male)
- 女性 (Female)
- 其他 (Other)

**用途**：

- 帮助 AI 使用正确的代词
- 理解角色关系
- 准确翻译性别相关内容

### 描述

角色的综合描述信息。

**建议包括**：

- 性格特点
- 外貌特征
- 背景信息
- 与其他角色的关系
- 任何对翻译有帮助的信息

**特点**：

- 可以留空，AI 翻译时会自动添加
- 填写后帮助 AI 更好地理解角色

**示例**：

```
勇敢、正义、忠诚的少年。黑色乱发，绿色眼睛，额头有闪电形伤疤。
在面对不公时会挺身而出，对朋友极其忠诚。
```

### 说话口吻

角色的语言风格特点。

**建议描述**：

- 口癖和常用语
- 语气特点（如傲娇、冷淡、热情）
- 特殊表达方式（如古风、现代、网络用语）
- 句尾习惯（如 desu、nya、的说）

**用途**：

- 帮助 AI 在翻译对话时保持角色个性一致
- 确保不同场景下角色语言风格统一

**示例**：

```
说话时经常使用"的说"作为句尾，
语气比较傲娇，明明很关心别人却嘴硬。
```

### 别名

角色的其他称呼。

**每个别名包含**：

- 别名名称（原文）
- 别名翻译（可选）

**用途**：

- 当角色在原文中有多个称呼时使用
- 确保所有称呼都能正确翻译

**示例**：

- 原文: "The Boy Who Lived" → 翻译: "大难不死的男孩"
- 原文: "魔王様" → 翻译: "魔王大人"

## 角色搜索

### 快速搜索

**操作步骤**：

1. 在角色面板顶部找到搜索框
2. 输入搜索关键词
3. 列表会实时过滤显示匹配的角色

**搜索范围**：

- 角色名称
- 翻译
- 描述

## 角色在翻译中的应用

### AI 自动识别

**翻译时**：

- AI 会自动识别原文中的角色名
- 使用角色设定中的译文名称
- 理解角色的性格和背景
- 翻译符合角色特点的对话和描述

### 角色信息利用

**AI 如何使用角色信息**：

- **名称翻译**: 统一使用设定的译名
- **代词选择**: 根据性别使用正确的代词
- **对话风格**: 根据说话口吻调整语气
- **背景理解**: 更准确地理解角色行为

### 自动填充功能

**翻译时自动更新**：

- 如果翻译字段为空，AI 会在翻译时自动填充
- 如果描述字段为空，AI 会根据上下文自动添加
- 如果别名翻译为空，AI 会自动填充

## 最佳实践

### 建立角色设定的时机

**推荐流程**：

1. **开始阅读时**: 边读边记录主要角色
2. **翻译前完善**: 完善所有已知角色的信息
3. **翻译中补充**: 遇到新角色及时添加
4. **让 AI 自动填充**: 不确定的信息可以留空

### 角色信息的完整度

**主要角色**：

- 填写名称、性别、说话口吻
- 详细描述性格和背景
- 添加所有已知别名

**次要角色**：

- 至少填写名称
- 可以留空其他字段让 AI 自动填充

### 利用自动填充

- 不确定的翻译可以留空
- 不确定的描述可以留空
- AI 在翻译时会根据上下文自动补充
- 之后可以审核和修改 AI 填充的内容

### 避免常见错误

- 不要填写与原文不一致的名称
- 不要在说话口吻中填写非语言风格的内容
- 定期审核 AI 自动填充的内容
- 保持角色信息的一致性

## 常见问题

### 角色设定和术语库有什么区别？

- **角色设定**: 专门管理人物信息，包含详细的性格、说话口吻等
- **术语库**: 管理所有专有名词，包括人名、地名、技能等

建议：

- 重要角色添加到角色设定
- 所有专有名词（包括人名）可以添加到术语库
- 角色设定提供详细信息供 AI 理解角色个性

### 为什么 AI 没有使用角色设定的信息？

1. 检查角色名称是否准确匹配原文
2. 确认角色信息已保存
3. 验证 AI 模型是否支持角色设定
4. 尝试重新翻译相关段落

### 如何处理角色的称呼变化？

使用别名功能：

1. 在角色编辑对话框中添加别名
2. 输入别名的原文名称
3. 输入别名的翻译（或留空让 AI 填充）
4. 保存后 AI 会识别所有别名

### 翻译和描述应该留空还是填写？

- **留空**: AI 会在翻译时自动填充，适合不确定的情况
- **填写**: 如果你有明确的翻译或描述，建议填写以确保一致性

### 角色设定会占用很多 Token 吗？

- AI 翻译时会智能选择相关的角色信息
- 只有出现的角色才会被包含在上下文中
- 建议控制单个角色的描述在 200 字以内
