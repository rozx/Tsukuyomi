# 📚 书籍列表页使用指南

书籍列表页用于统一管理所有书籍项目，支持搜索、排序、导入、编辑、删除与收藏。

---

## 📖 页面概览

- **搜索**：按标题、别名、作者、简介、标签实时过滤。
- **排序**：支持多维排序并记住上次选择。
- **添加书籍**：手动添加 / 从网站导入 / 从 JSON 导入。
- **卡片操作**：收藏、编辑、删除。
- **分页**：支持 10/20/50/100 每页。

---

## 🔍 搜索

搜索范围：

- 标题
- 别名（alternateTitles）
- 作者
- 简介
- 标签

输入后即时生效；右侧清除按钮可快速重置搜索词。

---

## 🔄 排序

当前可选排序项：

- 默认
- 标题 (A-Z)
- 标题 (Z-A)
- 创建时间 (最新)
- 创建时间 (最早)
- 更新时间 (最新)
- 更新时间 (最早)
- 章节数 (多→少)
- 章节数 (少→多)
- 字数 (多→少)
- 字数 (少→多)
- 收藏优先

> 说明：排序选项由设置持久化，重新进入页面会恢复上次选择。

---

## ➕ 添加与导入

### 1) 手动添加

点击主按钮 **添加书籍** 打开表单。

可填写内容包括：标题（必填）、别名、作者、简介、标签、封面、网站链接、卷/章结构、书籍级特殊指令（翻译/润色/校对）。

### 2) 从网站导入

通过分割按钮下拉选择 **从网站导入**，在抓取对话框中输入 URL 获取并导入。

支持站点：

- `ncode.syosetu.com`
- `novel18.syosetu.com`
- `kakuyomu.jp`
- `syosetu.org`

### 3) 从 JSON 导入

通过分割按钮下拉选择 **从 JSON 导入**，选择 `.json` 或 `.txt` 文件。

支持格式：

- 单本书籍对象
- 书籍数组
- 包含 `novels` 字段的数据
- 包含 `novel` 字段的数据

导入成功后会显示成功/失败数量，并支持撤销导入。

---

## 🧱 书籍卡片信息与操作

每张卡片包含：

- 封面（点击可进入详情页）
- 标题、作者
- 章节数、字数、创建时间、更新时间

卡片底部操作：

- ⭐ 收藏/取消收藏
- ✏️ 编辑
- 🗑️ 删除

---

## ✏️ 编辑书籍

点击卡片“编辑”进入编辑弹窗，可修改书籍信息与配置。

保存后会更新 `lastEdited`，并支持通过 Toast 撤销。

---

## 🗑️ 删除书籍（安全确认）

删除需要输入书名完全匹配后才可执行。

辅助功能：

- 可点击复制按钮，将标题复制并自动填入输入框。

删除成功后支持短时间撤销。

---

## ⭐ 收藏

点击星标切换收藏状态。配合“收藏优先”排序可将重点项目置顶。

---

## 📋 视图与分页

- 响应式网格：不同屏幕列数自动调整。
- 分页：默认每页 20，可切换为 10/20/50/100。

---

## ❓ 常见问题

**Q: 搜索不到书籍？**

A: 先清空搜索词，再尝试用标题/作者/标签等不同关键词。

**Q: 字数显示延迟？**

A: 字数统计是异步计算，首次加载或数据变更后会短暂延迟。

**Q: 删除后能恢复吗？**

A: 可以，在删除成功提示消失前点击撤销。

**Q: 导入报错怎么办？**

A: 检查文件格式（JSON/TXT）与数据结构，或检查网站 URL 是否可访问。

---

## 🎯 使用建议

1. 用收藏标记当前活跃项目。
2. 书籍较多时优先用搜索 + 排序组合定位。
3. 大型作品建议分批网站导入。
4. 重要数据定期在设置中导出资料备份。
