# 🤖 AI 模型配置指南

本指南将帮助您配置和管理 AI 模型，以实现最佳的翻译、润色和校对效果。

---

## 📋 模型管理概览

在 **AI 模型管理** 页面，您可以：

- 🔍 **搜索模型**: 通过模型名称、提供商、模型类型或默认任务快速查找
- ➕ **添加新模型**: 配置 API Key 并选择模型参数
- ✏️ **编辑现有模型**: 更新参数或切换默认任务设置
- 📋 **复制模型**: 快速创建不同参数配置的变体（自动禁用）
- 🗑️ **删除模型**: 移除不再需要的模型配置（支持撤销）
- ✅ **启用/禁用**: 控制哪些模型在任务选择中可见
- 📊 **查看详情**: 每个模型显示温度、最大 Token、API Key（已隐藏）、基础地址和默认任务

### 📐 页面布局说明

- 🔍 **顶部搜索栏**: 实时过滤模型列表，支持搜索名称、提供商、模型 ID 和默认任务
- 📇 **模型卡片**: 以卡片形式展示每个模型的关键信息和状态
- 🎮 **操作按钮**:
  - 🔵 **复制**: 创建模型副本用于测试不同参数
  - ✏️ **编辑**: 修改模型配置
  - 🗑️ **删除**: 移除模型（需确认）
- 📄 **分页显示**: 支持每页显示 5/10/20/50 个模型

---

## 🔧 配置新模型

### 1. 🔑 获取 API Key

首先，您需要从 AI 服务商获取 API Key：

- 🅾️ **OpenAI**: [platform.openai.com/api-keys](https://platform.openai.com/api-keys)
- 🔮 **Anthropic (Claude)**: [console.anthropic.com/settings/keys](https://console.anthropic.com/settings/keys)
- 🔷 **Google (Gemini)**: [aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey)
- 🔵 **DeepSeek**: [platform.deepseek.com/api-keys](https://platform.deepseek.com)
- 🌙 **Moonshot (Kimi)**: [platform.moonshot.cn/console/api-keys](https://platform.moonshot.cn)

### 2. ➕ 添加模型配置

1. 点击右上角的 **添加 AI 模型** ➕ 按钮
2. 填写以下信息：
   - 📝 **名称**: 易于识别的模型名称（如 "GPT-5.1 翻译专用"）
   - 🏢 **提供商**: 选择 OpenAI, Gemini, 或其他
   - 🤖 **模型**: 输入准确的模型 ID（如 `gpt-5.1`, `claude-4-opus-20250514`）
   - 🔑 **API Key**: 粘贴您的密钥
   - 🌐 **基础 URL**: 通常保持默认，除非使用代理或自托管服务

### 3. 调整模型参数

#### 核心参数

- **Temperature (温度)**:
  - `0.1 - 0.3`: 适合翻译任务，输出最稳定和一致
  - `0.5 - 0.7`: 适合校对和润色，平衡稳定性和创意性
  - `0.8 - 1.0`: 适合创意改写，输出更灵活多样
- **Max Tokens (最大输出)**:
  - 翻译任务：`2000-4000` tokens
  - 长文档处理：`8000+` tokens
  - 根据模型能力和实际需求调整

#### 可选参数

- **Context Window (上下文窗口)**:
  - 定义模型能接受的输入长度
  - 阅读官方文档获取准确值
  - 可使用"获取配置"功能向模型询问
- **Rate Limit (速率限制)**:
  - 每分钟最大请求次数
  - 防止触发 API 速率限制
  - 根据您的 API 套餐设置

> **💡 提示**: 点击对话框中的"获取配置"按钮，AI 会自动查询并填充推荐的参数值。

---

## 🎯 设置默认任务模型

每个模型可以被指定为以下任务的默认选择：

- **翻译 (Translation)**: 初始翻译任务
- **润色/校对 (Proofreading)**: 润色和校对任务
- **术语翻译/章节摘要 (Terminology/Summary)**: 专门用于术语表翻译和章节摘要
- **助手对话 (Assistant)**: AI 聊天助手

### 配置默认任务

为每个任务类型设置默认模型时，您可以：

1. **勾选任务类型**: 将该模型设为此任务的默认选择
2. **调整温度参数**: 为每个任务单独设置最优 Temperature
   - 同一模型可以为不同任务使用不同的温度
   - 例如：翻译用 `0.2`，润色用 `0.7`

**推荐配置策略**：

1. **翻译默认**:
   - 模型: DeepSeek-R1, GPT-o1, Claude 4 Opus
   - 温度: `0.2-0.3`（稳定性优先）
2. **润色默认**:
   - 模型: Claude 3.5 Sonnet, Gemini 2.0 Flash
   - 温度: `0.5-0.7`（平衡质量和速度）
3. **术语翻译/章节摘要**:
   - 模型: Gemini 2.0 Flash, DeepSeek-V3
   - 温度: `0.3-0.5`（快速准确）
4. **助手对话**:
   - 模型: DeepSeek-R1, GPT-o1, Claude 4 Opus
   - 温度: `0.5-0.7`（自然对话）

> **提示**: 您可以为同一个模型配置不同的任务默认设置，每个任务使用不同的 Temperature。

> **注意**: 有些模型不支持温度参数，推荐使用默认值（1）。

---

## 💡 最佳实践

### 多模型协作

建议配置多个模型用于不同场景：

1. **主力翻译模型**:
   - 模型: **GPT-o1**, **DeepSeek-R1**, **Claude 4 Opus**
   - Temperature: `0.2-0.3`
   - 用途: 初始翻译，处理复杂长句

2. **快速润色模型**:
   - 模型: **Claude 3.5 Sonnet**, **Gemini 2.0 Flash**
   - Temperature: `0.5-0.7`
   - 用途: 快速润色、语气调整

3. **精细校对模型**:
   - 模型: **GPT-5.1**, **Claude 4 Sonnet**
   - Temperature: `0.1-0.2`
   - 用途: 错误检查、一致性验证

### 巧用复制功能

使用"复制"按钮可以快速创建同一模型的不同配置：

- **参数测试**: 复制后调整温度，对比翻译效果
- **任务专用**: 为不同任务创建专门优化的配置
- **API Key 轮换**: 复制模型后更换 API Key，实现负载均衡

> **注意**: 复制的模型默认为"已禁用"状态，测试满意后记得启用。

### 成本优化

- **日常阅读翻译**: 使用 **Gemini 2.0 Flash** 或 **DeepSeek-V3**（成本低）
- **出版级翻译**: 使用 **GPT-5.1** 或 **Claude 4 Opus**（质量高）
- **国内网络环境**: 优先选择 **DeepSeek** 或 **Kimi**，访问更稳定

### API Key 安全

- **定期轮换**: 建议每 3-6 个月更换一次 API Key
- **权限最小化**: 如果服务商支持，仅授予必要的 API 权限
- **独立密钥**: 为不同项目使用不同的 API Key
- **删除撤销**: 误删除模型时，可在通知中点击"撤销"恢复

---

## ❓ 常见问题

**Q: 如何快速找到特定的模型？**  
A: 使用顶部的搜索框，可以按模型名称、提供商（如 OpenAI）、模型 ID（如 gpt-5.1）或默认任务（如翻译、校对）进行搜索。搜索是实时过滤的。

**Q: 如何知道哪个模型最适合我？**  
A: 建议先使用 **Gemini 2.0 Flash** 或 **DeepSeek-V3** 进行测试（成本低、速度快）。如果质量不满意，再升级到 **GPT-5.1** 或 **Claude 4 Opus**。

**Q: 可以同时启用多个默认模型吗？**  
A: 每个任务类型只能有一个默认模型。但您可以在执行任务时手动切换模型。

**Q: Temperature 设置对翻译有什么影响？**  
A:

- **低温度 (0.1-0.3)**: 输出稳定、一致性高，适合翻译和校对
- **中温度 (0.5-0.7)**: 平衡稳定性和创意，适合润色
- **高温度 (0.8+)**: 输出更有创意和多样性，适合创意改写

**Q: 模型报错"API Key 无效"怎么办？**  
A: 请检查：

1. API Key 是否正确复制（注意前后空格）
2. 账户余额是否充足
3. 是否选择了正确的服务商
4. 基础 URL 是否正确（使用代理时）

**Q: 复制的模型为什么无法使用？**  
A: 复制的模型默认为"已禁用"状态，需要编辑模型并勾选"启用"后才能在任务中选择。

---

> **提示**
>
> 模型配置会自动保存。您可以随时调整参数并观察翻译效果的变化，找到最适合您的配置组合。
