# 🛠️ 顶部工具栏使用指南

顶部工具栏是 Tsukuyomi 翻译器的核心交互区域,提供了快速访问各项功能的便捷方式。本指南将详细介绍工具栏上的每个按钮及其功能。

---

## 🔍 工具栏概览

工具栏位于应用程序顶部,包含以下主要区域:

- ⬅️ **左侧区域**: 应用标识和侧边栏控制
- ➡️ **右侧区域**: 功能按钮组

---

## ⬅️ 左侧区域

### ☰ 侧边栏切换按钮

**图标**: ☰ (三条横线)

**功能**: 显示/隐藏左侧书籍导航面板

- 📂 **显示状态**: 点击后展开左侧面板,显示书籍列表和章节导航
- 📁 **隐藏状态**: 点击后收起左侧面板,为主内容区提供更多空间

> 💡 **快捷键提示**: 适合在需要专注阅读或编辑时使用,快速切换视图空间。

### 🎴 应用标识

显示 Tsukuyomi 翻译器的 Logo 和名称,包括:

- 🎴 **Logo 图标**: 应用的视觉标识
- 📝 **应用名称**: "TSUKUYOMI 月读"
- 🌐 **副标题**: "Translator" - 强调翻译功能定位

---

## ➡️ 右侧功能区

### 1. ✨ AI 思考过程按钮

**图标**: ✨ (星光图标)

**显示文本**: "AI 思考过程"

**功能**: 查看 AI 实时思考和处理状态

#### 📊 状态指示

按钮会根据 AI 任务状态动态变化:

- ⏹️ **无任务**: 图标静止,文字为灰色
- 💭 **思考中**: 图标旋转,显示"(思考中)"状态
- ⚙️ **处理中**: 图标旋转,显示"(处理中)"状态

#### 🖱️ 点击后显示

点击按钮会打开 AI 思考过程面板,显示:

- 📋 当前正在执行的任务列表
- 🧠 AI 的思考过程和推理步骤
- 📝 任务执行的详细日志
- ⏱️ 任务开始时间和持续时长

#### 💡 使用建议

- 🔧 **调试翻译**: 当翻译结果不理想时,查看 AI 的思考过程可以帮助理解原因
- 👁️ **监控进度**: 实时了解任务执行状态,特别是批量操作时
- 📚 **学习优化**: 观察 AI 如何处理翻译任务,优化提示词设置

---

### 2. ☁️ 同步状态按钮

**图标**: ☁️ (云图标,根据状态变化)

**功能**: 管理与 GitHub Gist 的数据同步

#### 状态指示

按钮显示不同的图标和文字,表示当前同步状态:

| 状态   | 图标     | 颜色   | 说明                     |
| ------ | -------- | ------ | ------------------------ |
| 未启用 | ☁        | 灰色   | Gist 同步功能未开启      |
| 未同步 | ☁        | 浅灰色 | 已启用但尚未进行首次同步 |
| 已同步 | ☁↑       | 青色   | 数据已成功同步到云端     |
| 同步中 | ⟳ (旋转) | 蓝色   | 正在同步数据             |

#### 倒计时显示

当启用自动同步时,按钮会显示下次同步的倒计时:

- **1小时以上**: 显示"X 小时后"
- **1-60分钟**: 显示"X 分钟后"
- **少于60秒**: 显示实时倒计时"X秒"
- **即将同步**: 显示"即将同步"

#### 点击后显示

点击按钮会打开同步状态面板,提供:

- 详细的同步配置信息
- 最后同步时间
- 下次同步时间
- 同步历史记录
- 手动触发同步的按钮

#### 相关设置

在**设置弹窗**中可以配置:

- 是否启用 Gist 同步
- GitHub Token 配置
- 自动同步间隔
- 同步范围和选项

---

### 3. 批量摘要按钮

**图标**: ≡ (列表图标)

**显示文本**: "批量摘要" (在小屏幕上隐藏文字,仅显示图标)

**显示条件**: 仅在打开具体书籍时显示

**功能**: 批量生成章节摘要

#### 使用场景

- **新书导入**: 快速为所有章节生成摘要,建立内容概览
- **内容梳理**: 为特定章节范围批量生成摘要
- **翻译准备**: 在开始翻译前,先了解各章节的主要内容

#### 点击后显示

打开批量摘要面板,提供:

- 章节选择界面
- 批量生成选项
- 生成进度监控
- 已生成摘要的预览

#### 工作流程

1. **选择章节**: 勾选需要生成摘要的章节
2. **配置选项**: 设置摘要长度、详细程度等参数
3. **开始生成**: 点击按钮,AI 开始批量处理
4. **查看结果**: 生成完成后可以查看和编辑摘要

---

### 4. 消息历史按钮

**图标**: 🔔 (铃铛图标)

**功能**: 查看系统通知和消息历史

#### 未读消息提示

- **有未读消息**: 图标右上角显示红色徽章,标注未读数量
- **超过99条**: 显示"99+"
- **无未读消息**: 不显示徽章

#### 点击后显示

打开消息历史对话框,显示:

- 所有系统通知列表
- 未读/已读状态标记
- 消息时间戳
- 消息详细内容
- 清除历史记录选项

#### 消息类型

包括但不限于:

- **成功通知**: 任务完成、操作成功等
- **错误提示**: 操作失败、API 错误等
- **警告信息**: 配置问题、兼容性提示等
- **信息提示**: 一般性通知和提醒

#### 使用建议

- 定期检查消息历史,了解系统运行状态
- 注意错误消息,及时处理潜在问题
- 清理过期消息,保持界面整洁

---

### 5. 右侧面板切换按钮

**图标**: 💬 (评论图标) / ✕ (关闭图标)

**功能**: 显示/隐藏右侧聊天助手面板

#### 图标变化

- **面板关闭时**: 显示 💬 图标
- **面板打开时**: 显示 ✕ 图标

#### 右侧面板功能

打开后显示聊天助手面板,提供:

- **AI 对话**: 与 AI 助手进行自然语言交互
- **翻译辅助**: 询问翻译建议和语境解释
- **术语查询**: 快速查找和确认专业术语
- **上下文理解**: 让 AI 帮助理解复杂段落
- **会话历史**: 保存和切换不同的对话会话

#### 使用场景

- **翻译困惑**: 遇到难以理解或翻译的内容时
- **质量提升**: 讨论如何改进翻译质量
- **学习交流**: 询问语言知识和翻译技巧
- **快速协助**: 需要即时的 AI 辅助时

---

## 响应式设计

工具栏采用响应式设计,在不同屏幕尺寸下会自动调整:

### 宽屏显示

- 所有按钮完整显示
- 显示完整的文字标签
- 提供充足的点击区域

### 窄屏优化

- 部分按钮仅显示图标,隐藏文字
- 保持核心功能可访问
- 优先显示最常用的功能

---

## 视觉设计

### 配色方案

- **默认状态**: 柔和的灰色,不干扰主界面
- **悬浮状态**: 亮度提升,提供视觉反馈
- **活动状态**: 使用强调色,明确指示当前状态
- **禁用状态**: 降低透明度,表示不可用

### 动画效果

- **图标旋转**: AI 处理时的加载动画
- **徽章闪烁**: 新消息到达时的提醒
- **平滑过渡**: 所有状态切换都有平滑的过渡效果

---

## 使用技巧

### 高效工作流

1. **开始工作**:
   - 打开侧边栏,选择要翻译的书籍和章节
   - 打开右侧面板,准备 AI 助手
2. **翻译过程**:
   - 使用 AI 思考过程按钮监控任务进度
   - 遇到问题时通过消息历史查看错误信息
3. **批量处理**:
   - 使用批量摘要功能快速了解内容
   - 关注同步状态,确保数据安全
4. **结束工作**:
   - 检查同步状态,确保数据已备份
   - 清理消息历史,整理工作环境

### 快捷操作

- **双击 Logo**: 快速返回首页 (如已实现)
- **长按按钮**: 查看详细提示信息 (根据实现情况)
- **组合使用**: 同时打开多个面板,提高工作效率

---

## 常见问题

### Q: 同步按钮一直显示"同步中"怎么办?

**A**: 这可能是网络问题或 GitHub API 限制导致:

1. 检查网络连接
2. 验证 GitHub Token 是否有效
3. 查看消息历史中的错误信息
4. 尝试在设置中重新配置 Gist 同步

### Q: AI 思考过程面板显示空白?

**A**: 可能的原因:

1. 当前没有 AI 任务在运行
2. 任务已经完成,面板已清空
3. 尝试刷新页面或重启应用

### Q: 消息历史的未读数量不准确?

**A**: 尝试以下操作:

1. 打开消息历史面板,标记所有消息为已读
2. 清除旧消息
3. 刷新页面

### Q: 批量摘要按钮不显示?

**A**: 该按钮仅在打开具体书籍时显示:

1. 确保你在书籍详情页,而不是主页
2. 检查 URL 是否包含书籍 ID
3. 尝试重新进入书籍页面

---

## 相关文档

- [快速开始](/help/front-page) - 了解应用的基础使用
- [主页介绍](/help/library-guide) - 书籍管理和导航
- [聊天助手](/help/chat-assistant-guide) - 详细了解右侧面板功能
- [设置说明](/help/settings-guide) - 配置同步和其他选项

---

## 小贴士

💡 **保持工具栏可见**: 工具栏采用固定定位,始终显示在顶部,方便随时访问。

💡 **观察状态变化**: 留意图标和颜色变化,它们提供了重要的状态信息。

💡 **合理使用面板**: 根据工作需要打开/关闭面板,保持界面整洁。

💡 **定期同步**: 养成定期查看同步状态的习惯,确保数据安全。

---

_最后更新: 2026-02-03_
