## 1. 断点契约与基础状态

- [x] 1.1 新增统一断点常量（Phone/Tablet/Desktop）并在布局层集中复用，移除页面内分散断点判断
- [x] 1.2 在 UI store 增加设备类型与工作区视图模式状态，定义断点切换与横竖屏切换的状态同步规则
- [x] 1.3 实现断点变化时的上下文保留逻辑（当前书籍、章节、段落定位与已选面板不丢失）

## 2. 应用壳层响应式改造

- [x] 2.1 改造 `MainLayout` 为断点感知布局：手机单主视图、平板可折叠双栏、桌面保持三栏
- [x] 2.2 在手机与平板补齐导航抽屉与助手入口按钮，确保侧边与右侧能力可一跳到达
- [x] 2.3 校验壳层切换不影响现有路由与桌面交互行为

## 3. BookDetails 工作区重排

- [x] 3.1 为 `BookDetailsPage` 建立“单工作区多模式”编排（内容/目录/设置/进度）并接入现有状态
- [x] 3.2 实现手机端完整功能可达路径，覆盖目录、正文翻译、术语、角色、记忆、AI 助手
- [x] 3.3 实现平板端主区优先 + 辅助面板快速切换，并保持编辑与阅读位置恢复
- [x] 3.4 为模式切换增加可见入口与状态恢复，验证返回正文后仍定位到原段落与翻译版本

## 4. Overlay 自适应体系

- [x] 4.1 建立断点感知 Overlay 策略（Phone 全屏/底部面板、Tablet 中宽弹层、Desktop 现状保持）
- [x] 4.2 改造高优先级 Dialog/Popover（设置、抓取、书籍编辑、AI 配置）接入统一策略
- [x] 4.3 处理移动端安全区与软键盘遮挡，确保输入区与确认按钮始终可达
- [x] 4.4 实现未保存关闭确认与多层弹层后进先出关闭行为

## 5. 触控优先交互补齐

- [x] 5.1 为章节排序提供触控等价操作（拖拽手柄或上移/下移动作）并保证结果与桌面一致
- [x] 5.2 将悬停/右键入口迁移为移动端可见入口（段落操作、翻译提交、面板切换）
- [x] 5.3 校准关键按钮命中区与按压反馈，降低手机端误触
- [x] 5.4 解决拖拽、侧滑与滚动冲突，避免列表误拖拽和背景误滚动

## 6. 次级页面适配

- [x] 6.1 改造 `BooksPage` 的手机/平板布局与操作入口，保证书籍管理闭环可用
- [x] 6.2 改造 `AIPage` 在小屏设备的模型管理与配置编辑流程，避免固定宽度导致操作中断
- [x] 6.3 按 `help-page` 变更完成帮助页导航与阅读布局适配（手机抽屉、平板可持续可达导航）

## 7. 回归验证与交付检查

- [x] 7.1 建立手机竖屏、平板竖/横屏、桌面三档验收清单并覆盖核心翻译主路径
- [x] 7.2 增加关键交互回归测试（模式切换、弹层行为、触控排序、帮助页导航）
- [x] 7.3 运行 `bun run lint` 与 `bun run type-check`，修复新增问题后完成提交前检查

> 说明：`bun run type-check` 已通过；`lint` 在当前 Node v16 下需使用 `bun run --bun lint` 执行（可通过）。
